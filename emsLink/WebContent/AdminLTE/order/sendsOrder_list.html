<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="common/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.css">
    
    <style type="text/css">
			.score span {
				display: block;
				width: 20px;
				height: 20px;
				float: left;
				margin-right: 10px;
			}
		.star-dark {
			background: url(order/images/star_dark.png);
			background-size: 100% 100%;
			}
		.star-bright {
			background: url(order/images/star_bright.png);
			background-size: 100% 100%;
			}
		</style>
</head>
<body >
  <div ms-controller="sendsorderlist">
    <div id="grouplist">
        <div class="col-md-12 mt30">

            <div class="col-md-2">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon1">姓名</div>
                        <input class="form-control" type="text" ms-duplex="name">
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon1">电话</div>
                        <input class="form-control" type="text" ms-duplex="phone">
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon1">快递员</div>
                        <input class="form-control" type="text" ms-duplex="kdyname">
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon1">状态</div>
                        <select class="form-control" id="goodscategory" ms-duplex="status">
                        	 <option value="">全部</option>
                        	 <option value="0">取消</option>
                             <option value="1">未送</option>
                             <option value="2">已送</option>
                             <option value="7">未收件</option>
                             <option value="5">已收件</option>
                             <option value="6">已寄出</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon1">支付状态</div>
                        <select class="form-control" id="goodscategory" ms-duplex="payStatus">
                        	 <option value="">全部</option>
                             <option value="0">未支付</option>
                             <option value="1">货到付款</option>
                             <option value="2">微信支付</option>
                             <option value="3">代金券支付</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon1">订单类型</div>
                        <select class="form-control" id="goodscategory" ms-duplex="type">
                        	 <option value="">全部</option>
                             <option value="2">代送快递</option>
                             <option value="1">邮寄快递</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon1">开始日期：</div>
                        <input type="text" ms-duplex="startDate" class="form-control input-datepicker" ms-on-change="changeDate()"/>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <div class="input-group">
                        <div class="input-group-addon1">结束日期：</div>
                        <input type="text" ms-duplex="endDate" class="form-control input-datepicker" ms-on-change="changeDate()"/>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <button  type="button" class="btn-flat default" ms-click="search()">搜索</button>
                <button  type="button" class="btn-flat white" ms-click="preset()">重置</button>
            </div>
            <div class="btn-search" style="margin-right: 20px;margin-top:-5px;" ms-click="toAU('')" ms-if="hasAdd"><i></i>添加</div>
        </div>
        <div class="col-md-12" >
            <div class="col-sm-12">
                <table id="example2" class="table table-bordered table-hover dataTable" role="grid" aria-describedby="example2_info">
                    <thead>
                    <tr role="row">
                        <th class="sorting_asc" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Rendering engine: activate to sort column descending">
                            姓名
                        </th>
                        <!-- <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending">
                            联系人
                        </th> -->
                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending">
                            联系电话
                        </th>
                        <!-- <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending">
                            客户类型
                        </th> -->
                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="Platform(s): activate to sort column ascending">
                            地址
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="Engine version: activate to sort column ascending">
                            时间
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="CSS grade: activate to sort column ascending">
                           支付状态
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="CSS grade: activate to sort column ascending">
                           支付方式
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="CSS grade: activate to sort column ascending">
                           订单状态
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="CSS grade: activate to sort column ascending">
                           订单类型
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="Engine version: activate to sort column ascending">
                            快递员
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="example2" rowspan="1" colspan="1" aria-label="CSS grade: activate to sort column ascending">
                            操作
                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr role="row" ms-repeat-sendorder="sendsOrderList">
                        <td class=""><span>{{sendorder.name}}</span></td>
                        <!-- <td class="">{{consumer.contactPerson}}</td> -->
                        <td class="">{{sendorder.phone}}</td>
                        <!-- <td class="shelve" ms-if="consumer.type==1"><i>个人</i></td>
                        <td class="off-shelf" ms-if="consumer.type==2"><i>企业</i></td> -->
                        <td class="">{{sendorder.address}}</td>
                        <td>{{sendorder.createTime | date("yyyy-MM-dd HH:mm:ss")}}</td>
                        
                       
                        <td class="" ><a ms-if="sendorder.payStatus == 0">未支付</a><a ms-if="sendorder.payStatus != 0">已支付</a></td>
                        
                        <td class=""><a ms-if="sendorder.payStatus == 1">货到付款</a><a ms-if="sendorder.payStatus == 2">微信支付</a><a ms-if="sendorder.payStatus == 3">代金券支付</a></td>
                        
                        <td class=""><a ms-if="sendorder.status == 0">取消</a><a ms-if="sendorder.status == 1">未送货</a><a ms-if="sendorder.status == 2">已送货</a>
                        <a ms-if="sendorder.status == 5">已收件</a><a ms-if="sendorder.status == 6">已邮寄</a>
                        <a ms-if="sendorder.status == 7">未收件</a></td>
                        
                        <td class=""><a ms-if="sendorder.type == 1">邮寄</a><a ms-if="sendorder.type == 2">代送</a></td>
                        <td class="">{{sendorder.kdyName}}</td>
                        <td class="status">
                            <a class="" ms-click="toAU(sendorder.id)" style="cursor: pointer;" ms-if="hasUpdate">修改|</a>
                            <a class="" ms-click="toLookExpress(sendorder)" style="cursor: pointer;" ms-if="hasLook&&sendorder.status==6">查看快递信息|</a>
                            <a class="" ms-click="toLookEvaluate(sendorder.id)" style="cursor: pointer;" ms-if="hasLook&&(sendorder.status == 2 || sendorder.status==6) && sendorder.evaluateStatus == 1">查看评价|</a>
                            <a class="" ms-click="toshowCancelOrder(sendorder.id)" style="cursor: pointer;" ms-if="hasDelete &&(sendorder.status != 0 && sendorder.status != 2 && sendorder.status != 6)">取消</a>
                        </td>
                    </tr>
                    </tbody>
                </table>

                <div class="pull-right">
                    <ul id="pagination" class="pagination ">
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6"></div>
            <div class="col-sm-6"></div>
        </div>
    </div>
    
    <div class="modal fade in" style="display:block;" ms-if="showExpress">
        <div class="modal-dialog modal-m">
            <div class="modal-content" style="margin-top:200px;">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ms-click="hideExpress()">
                        <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                    </button>
                    <h3 class="modal-title ng-binding">邮寄快递信息</h3>
                </div>
                <!-- dialog body -->
                <div class="modal-body row">
                    <div class="col-md-10">

                        <form role="form">
                            <div class="box-body">
                                <div class="form-group">
                                    <label>快递公司</label>
                                    <input type="text" class="form-control" ms-duplex="expressName"  placeholder="服务显示的名称">
                                </div>
                                <div class="form-group">
                                    <label>跨地单号</label>
                                    <input type="text" class="form-control" ms-duplex="expressNo"  placeholder="输入描述">
                                </div>
                            </div>
                            <div class="box-footer">
                                <button type="button" class="btn btn-primary" ms-click="hideExpress()">确认</button>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
    
    <div class="modal fade in" style="display:block;" ms-if="showLookEvaluate">
        <div class="modal-dialog modal-m">
            <div class="modal-content" style="margin-top:200px;">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" ms-click="hideLookEvaluate()">
                        <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                    </button>
                    <h3 class="modal-title ng-binding">评价信息</h3>
                </div>
                <!-- dialog body -->
                <div class="modal-body row">
                    <div class="col-md-10">

                        <form role="form">
                            <div class="box-body">
                                <div class="ui-list-info">
	                				<div class="score" ms-if="starNum >= 1 && starNum < 2">
				                        <span class="star-bright"></span>
				                        <span class="star-dark"></span>
				                        <span class="star-dark"></span>
				                        <span class="star-dark"></span>
				                        <span class="star-dark"></span>
				                    </div>
				                     <div class="score" ms-if="starNum >= 2 && starNum < 3">
				                        <span class="star-bright"></span>
				                        <span class="star-bright"></span>
				                        <span class="star-dark"></span>
				                        <span class="star-dark"></span>
				                        <span class="star-dark"></span>
				                    </div>
				                    <div class="score" ms-if="starNum >= 3 && starNum < 4">
				                        <span class="star-bright"></span>
				                        <span class="star-bright"></span>
				                        <span class="star-bright"></span>
				                        <span class="star-dark"></span>
				                        <span class="star-dark"></span>
				                    </div>
				                    <div class="score" ms-if="starNum >= 4 && starNum < 5">
				                        <span class="star-bright"></span>
				                        <span class="star-bright"></span>
				                        <span class="star-bright"></span>
				                        <span class="star-bright"></span>
				                        <span class="star-dark"></span>
				                    </div>
				                    <div class="score" ms-if="starNum >= 5">
				                        <span class="star-bright"></span>
				                        <span class="star-bright"></span>
				                        <span class="star-bright"></span>
				                        <span class="star-bright"></span>
				                        <span class="star-bright"></span>
				                    </div>
	            </div>
							<div class="ui-form-item ui-form-item-textarea  ui-form-item-pure ui-border-b">
								 
								<textarea placeholder="评价内容" ms-duplex="evaluateContent" readonly></textarea>
							</div>
                            </div>
                            <div class="box-footer">
                                <button type="button" class="btn btn-primary" ms-click="hideLookEvaluate()">确认</button>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
    
    <div class="modal fade in" style="display:block;" ms-if="showCancelOrder">
        <div class="modal-dialog modal-m">
            <div class="modal-content" style="margin-top:200px;width: 300px;">
                <div class="modal-header" style="text-align: center;">
                    <button type="button" class="close" data-dismiss="modal" ms-click="hideCancelOrder()">
                        <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                    </button>
                    <h3 class="modal-title ng-binding">确定取消订单？</h3>
                </div>
                <!-- dialog body -->
                <div class="modal-body row">
                    <div class="col-md-10" >

                        <form role="form">
                            
                            <div class="box-footer" style="text-align: center;">
                             <button type="button" class="btn btn-primary" ms-click="hideCancelOrder()">关闭</button>
                                <button type="button" class="btn btn-primary" ms-click="toCancelOrder()">确认</button>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
</body>
<script type="text/javascript" src="common/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
<script type="text/javascript" src="common/plugins/bootstrap-paginator/bootstrap-paginator.js"></script>
<script type="text/javascript" src="common/plugins/avalon/avalon.js"></script>
<script type="text/javascript" src="order/js/sendsOrder_list.js" > </script>
</html>